import { useState } from "react"
import Head from "next/head"
import Game from "@/components/game"
import GameType from "@/components/gameType";
import SinglePlayerForm from "@/components/singlePlayerForm";
import MultiPlayerForm from "@/components/multiPlayerForm";

export default function Home() {

  const [isSinglePlayer, setIsSinglePlayer] = useState(false);
  const [isDoublePlayer, setIsDoublePlayer] = useState(false);

  const [userEntered, setUserEntered] = useState(false);
  const [player1, setPlayer1] = useState('');
  const [player1Symbol, setPlayer1Symbol] = useState('');
  const [player2, setPlayer2] = useState('');
  const [player2Symbol, setPlayer2Symbol] = useState('');


  const handleSinglePlayerForm = (e) => {
    e.preventDefault();
  }

  return (
    <>
      <Head>
        <title>Create Next App</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <header className="bg-lightSecondary py-8">
        <h1 className="text-primary text-center text-5xl font-black">TIC TAK TOE GAME</h1>
      </header>
      <main className="bg-lightSecondary h-full w-full absolute top-24 bottom-0 pt-16">

        <GameType isSinglePlayer={setIsSinglePlayer} isDoublePlayer={setIsDoublePlayer} />

        {
          isSinglePlayer && (
            <SinglePlayerForm userEntered={setUserEntered} player1={setPlayer1} player2={setPlayer2} player1Symbol={setPlayer1Symbol} player2Symbol={setPlayer2Symbol} />
          )
        }

        {
          isDoublePlayer && (
            <MultiPlayerForm userEntered={setUserEntered} player1={setPlayer1} player1Symbol={setPlayer1Symbol} player2={setPlayer2} player2Symbol={setPlayer2Symbol} />
          )
        }

        {
          userEntered && (
            <Game player1Name={player1} player2Name={player2} player1Symbol={player1Symbol} player2Symbol={player2Symbol} />
          )
        }

      </main>
    </>
  )
}
